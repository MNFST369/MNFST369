<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="$MNFST – A cryptic Solana meme coin that manifests its own holders. Unravel the enigma of 369.">
    <title>$MNFST – The Tome of Manifestation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        body {
            font-family: 'Special Elite', 'Varela', Courier, monospace;
            color: #d4af37;
            background: url('https://www.textures.com/system/gallery/photos/Paper/Plain/135574/PaperPlain0077_1_600.jpg') repeat;
            background-size: 600px 600px;
            background-color: #111;
            text-align: center;
            overflow-x: hidden;
            position: relative;
            animation: drift 60s linear infinite;
        }
        @keyframes drift {
            0% { background-position: 0 0; }
            100% { background-position: 600px 600px; }
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 255, 204, 0.05) 0%, transparent 100%);
            pointer-events: none;
            z-index: 1;
        }
        /* Glitch Effect */
        .glitch {
            position: relative;
            display: inline-block;
        }
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .glitch::before {
            color: #00FFCC;
            animation: glitch-top 1s linear infinite;
            clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
        }
        .glitch::after {
            color: #FF00FF;
            animation: glitch-bottom 1.5s linear infinite;
            clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
        }
        @keyframes glitch-top {
            2% { transform: translate(2px, -2px); }
            4% { transform: translate(-2px, 2px); }
            6% { transform: translate(0, 0); }
        }
        @keyframes glitch-bottom {
            2% { transform: translate(-2px, 2px); }
            4% { transform: translate(2px, -2px); }
            6% { transform: translate(0, 0); }
        }
        /* Particle Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0;
            transition: opacity 1s ease;
        }
        .particles.visible {
            opacity: 1;
        }
        .master {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
        }
        .master:nth-child(1) {
            transform: scale(-1, -1) translate(-150px);
        }
        .master:nth-child(2) {
            transform: scale(1, -1) translate(-150px);
        }
        .master:nth-child(3) {
            transform: scale(-1, 1) translate(-150px);
        }
        .master:nth-child(4) {
            transform: scale(1, 1) translate(-150px);
        }
        .magic {
            width: 150px;
            height: 20px;
            border-left: 10px solid orangered;
            border-right: 1px solid darkorange;
            animation: ENERGY 3s ease-in-out infinite;
        }
        @keyframes ENERGY {
            50% { transform: rotateY(360deg) translate(-200px); }
        }
        .navbar {
            background: rgba(44, 44, 44, 0.9);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid #2C2C2C;
        }
        .navbar-toggle {
            display: none;
            background: none;
            border: none;
            color: #d4af37;
            font-size: 24px;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .nav-links, .nav-actions {
            display: flex;
            align-items: center;
        }
        .nav-links a, .nav-actions a {
            color: #d4af37;
            text-decoration: none;
            margin: 0 20px;
            font-size: 18px;
            position | relative;
        }
        .nav-links a::before {
            content: attr(data-rune);
            position: absolute;
            top: 0;
            left: 0;
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        .nav-links a:hover::before {
            opacity: 0;
        }
        .nav-links a:hover, .nav-actions a:hover {
            color: #00FFCC;
            animation: glitch 0.3s infinite;
        }
        @media (max-width: 768px) {
            .navbar-toggle {
                display: block;
            }
            .nav-content {
                display: none;
                flex-direction: column;
                width: 100%;
                padding-top: 60px;
            }
            .nav-content.active {
                display: flex;
            }
            .nav-links, .nav-actions {
                flex-direction: column;
                width: 100%;
                text-align: center;
            }
            .nav-links a, .nav-actions a {
                margin: 10px 0;
                padding: 10px;
                width: 100%;
                display: block;
            }
        }
        .section {
            padding: 60px 20px;
            position: relative;
            z-index: 1;
        }
        .section h1 {
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 0 0 5px #00FFCC;
        }
        .section p {
            font-size: 18px;
            max-width: 600px;
            margin: 0 auto 20px;
            line-height: 1.6;
        }
        .btn {
            background: #2C2C2C;
            color: #d4af37;
            border: 2px solid #2C2C2C;
            border-radius: 10px;
            padding: 12px 35px;
            font-weight: bold;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover {
            background: #00FFCC;
            color: #2C2C2C;
            animation: glitch 0.3s infinite;
        }
        .tome {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: rgba(44, 44, 44, 0.9);
            border: 2px solid #2C2C2C;
            border-radius: 10px;
        }
        textarea, input {
            background: #333;
            border: 2px solid #2C2C2C;
            border-radius: 10px;
            padding: 15px;
            color: #d4af37;
            width: 100%;
            margin-bottom: 10px;
            font-family: 'Special Elite', 'Varela', Courier, monospace;
        }
        textarea:focus, input:focus {
            border-color: #00FFCC;
            animation: glitch 0.3s infinite;
        }
        #wall-display div {
            margin: 10px 0;
            padding: 10px;
            background: #333;
            border-left: 3px solid #00FFCC;
            color: #d4af37;
            font-size: 16px;
        }
        .hidden {
            display: none;
        }
        .easter-egg {
            position: fixed;
            bottom: 20px;
            right: 20px;
            opacity: 0.3;
            cursor: pointer;
        }
        .easter-egg:hover {
            opacity: 1;
            animation: glitch 0.3s infinite;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Varela&display=swap" rel="stylesheet">
</head>
<body>
    <div class="overlay"></div>
    <div class="particles"></div>

    <!-- Navbar -->
    <div class="navbar">
        <button class="navbar-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="navContent" onclick="toggleNav()">
            <span class="hamburger">≡</span>
        </button>
        <div class="nav-content" id="navContent">
            <div class="nav-links">
                <a href="#home" data-rune="⚸">Home</a>
                <a href="#about" data-rune="⚶">About</a>
                <a href="#tome" data-rune="⚷">Tome</a>
                <a href="philosophy.html" data-rune="⚴">Philosophy</a>
                <a href="portal.html" data-rune="⚵">Portal</a>
                <a href="lore.html" data-rune="⚹">Lore</a>
            </div>
            <div class="nav-actions">
                <a href="https://x.com/MNFST__" target="_blank" rel="noopener">X</a>
                <a href="https://t.me/MNFSTcoin" target="_blank" rel="noopener">Telegram</a>
            </div>
        </div>
    </div>

    <!-- Home Section -->
    <section class="section" id="home">
        <h1 class="glitch" data-text="$MNFST">$MNFST</h1>
        <p>A Solana meme coin that manifests its own holders. The spiral of 369 weaves destinies in the cosmic tome.</p>
        <p>103 Souls Manifested</p>
        <a href="https://dexscreener.com/solana/63iEYzCa8wCLpk1VgdAxnwU5qaqtU6Ju1o3kNDViq8Xu" class="btn glitch" data-text="Am I Chosen?" target="_blank" rel="noopener">Am I Chosen?</a>
    </section>

    <!-- About Section -->
    <section class="section" id="about">
        <div class="tome">
            <h2 class="glitch" data-text="The Enigma">The Enigma</h2>
            <p>$MNFST is not for all. It seeks those who resonate with the pulse of 369, where creation and void intertwine.</p>
        </div>
    </section>

    <!-- Tome of Manifestation -->
    <section class="section" id="tome">
        <div class="tome">
            <h2 class="glitch" data-text="Tome of Manifestation">Tome of Manifestation</h2>
            <div id="password-section">
                <input type="password" id="chamber-password" placeholder="Decipher the code..." aria-label="Password for tome">
                <button class="btn glitch" data-text="UNVEIL" onclick="checkPassword()">UNVEIL</button>
            </div>
            <div id="manifestation-wall" class="hidden">
                <form id="manifestation-form" onsubmit="return addManifestation(event)">
                    <textarea placeholder="Inscribe your truth..." aria-label="Inscribe your manifestation"></textarea>
                    <button class="btn glitch" data-text="MANIFEST" type="submit">MANIFEST</button>
                </form>
                <div id="wall-display"></div>
                <div id="error-message" class="hidden">
                    <p>The tome resists. <button onclick="loadManifestations()">Retry</button></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Future Visions -->
    <section class="section">
        <div class="tome">
            <h2 class="glitch" data-text="Future Visions">Future Visions</h2>
            <p>A cosmic journey awaits where $MNFST shapes destinies. The game of manifestation unfolds...</p>
        </div>
    </section>

    <!-- Easter Egg -->
    <div class="easter-egg glitch" data-text="369" onclick="revealSecret()">369</div>

    <!-- JavaScript Disabled Warning -->
    <noscript>
        <div class="tome">
            <h2>The Tome is Sealed</h2>
            <p>Enable JavaScript to unravel the mysteries of $MNFST. Seek guidance at <a href="https://t.me/MNFSTcoin" target="_blank" rel="noopener">Telegram</a>.</p>
        </div>
    </noscript>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAAzwB9DImZ2OaJ3o7b4YCKDk-xblBci8I",
            authDomain: "mnfst369.firebaseapp.com",
            databaseURL: "https://mnfst369-default-rtdb.firebaseio.com",
            projectId: "mnfst369",
            storageBucket: "mnfst369.firebasestorage.app",
            messagingSenderId: "548497202287",
            appId: "1:548497202287:web:b26c0ad42ece9d6a0fc19a"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const manifestationsRef = db.ref('manifestations');

        // Generate Particle HTML and CSS
        document.addEventListener('DOMContentLoaded', () => {
            const particlesDiv = document.querySelector('.particles');
            const styleSheet = document.createElement('style');
            document.head.appendChild(styleSheet);
            let cssRules = '';

            for (let m = 0; m < 4; m++) {
                const masterDiv = document.createElement('div');
                masterDiv.className = 'master';
                for (let i = 1; i <= 50; i++) {
                    const magicDiv = document.createElement('div');
                    magicDiv.className = 'magic';
                    masterDiv.appendChild(magicDiv);

                    // Generate CSS for each .magic
                    const angle = (i - 1) * 360 / 50;
                    const scale = -1 - (i - 1) * 1 / 50;
                    const delay = -(i - 1) * 1 / 25;
                    cssRules += `
                        .master:nth-child(${m + 1}) .magic:nth-child(${i}) {
                            animation-delay: ${delay}s;
                            transform: rotate(${angle}deg) translate(200px) scale(${scale});
                        }
                    `;
                }
                particlesDiv.appendChild(masterDiv);
            }

            styleSheet.textContent = cssRules;

            // Inactivity Timer
            let inactivityTimer = setTimeout(() => {
                particlesDiv.classList.add('visible');
            }, 780000); // 13 minutes

            function resetTimer() {
                clearTimeout(inactivityTimer);
                particlesDiv.classList.remove('visible');
                inactivityTimer = setTimeout(() => {
                    particlesDiv.classList.add('visible');
                }, 780000);
            }

            document.addEventListener('mousemove', resetTimer);
            document.addEventListener('keydown', resetTimer);
            document.addEventListener('touchstart', resetTimer);
            document.addEventListener('scroll', resetTimer);
        });

        // Toggle Navbar
        function toggleNav() {
            const navContent = document.getElementById('navContent');
            const hamburger = document.querySelector('.hamburger');
            const toggleButton = document.querySelector('.navbar-toggle');
            navContent.classList.toggle('active');
            const isActive = navContent.classList.contains('active');
            hamburger.textContent = isActive ? '×' : '≡';
            toggleButton.setAttribute('aria-expanded', isActive);
        }

        // Close mobile menu on outside click
        document.addEventListener('click', function(event) {
            const navContent = document.getElementById('navContent');
            const toggleButton = document.querySelector('.navbar-toggle');
            if (navContent.classList.contains('active') && 
                !navContent.contains(event.target) && 
                !toggleButton.contains(event.target)) {
                toggleNav();
            }
        });

        // Check Password
        function checkPassword() {
            const password = document.getElementById('chamber-password').value;
            if (password === '369') {
                document.getElementById('password-section').classList.add('hidden');
                document.getElementById('manifestation-wall').classList.remove('hidden');
                loadManifestations();
            } else {
                alert('The code eludes you. Seek the numbers that weave creation.');
            }
        }

        // Load Manifestations
        function loadManifestations() {
            const errorMessage = document.getElementById('error-message');
            manifestationsRef.on('value', (snapshot) => {
                const wallDisplay = document.getElementById('wall-display');
                wallDisplay.innerHTML = '';
                errorMessage.classList.add('hidden');
                const data = snapshot.val();
                if (data) {
                    Object.values(data).forEach(manifestation => {
                        const div = document.createElement('div');
                        div.textContent = manifestation.text;
                        wallDisplay.insertBefore(div, wallDisplay.firstChild);
                    });
                }
            }, (error) => {
                console.error('Error loading manifestations:', error);
                errorMessage.classList.remove('hidden');
            });
        }

        // Add Manifestation
        function addManifestation(event) {
            event.preventDefault();
            const textarea = event.target.querySelector('textarea');
            const text = textarea.value.trim();
            if (text) {
                manifestationsRef.push({
                    text: text,
                    timestamp: Date.now()
                }, (error) => {
                    if (error) {
                        console.error('Error adding manifestation:', error);
                        alert('The tome resists your truth. Try again.');
                    } else {
                        textarea.value = '';
                        alert('You have manifested.');
                    }
                });
            }
            return false;
        }

        // Easter Egg
        function revealSecret() {
            alert('The spiral turns. You are closer to the truth.');
            document.body.style.animation = 'glitch 1s linear';
            setTimeout(() => { document.body.style.animation = ''; }, 1000);
        }

        // Smooth Scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Enter key support
        document.getElementById('chamber-password').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') checkPassword();
        });
    </script>
</body>
</html>
